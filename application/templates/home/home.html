<!DOCTYPE html>
 
{% extends "base.html" %}
 
{% block content %}

<style>
   .card-img-top {
     width: 100%;
     height: 18vw;
     object-fit: cover;
 } 
 </style>
 
<section class="pt-5 pb-5">
  <div class="container">
    <div class="row">
        <div class="col-6">
            <h3 class="mb-3">Recently Posted</h3>
        </div>
        <div class="col-6 text-right">
            <a class="btn btn-dark mb-3 mr-1" href="#carouselExampleIndicators2" role="button" data-slide="prev">
                prev<!-- <i class="fa fa-arrow-left"></i> -->
            </a>
            <a class="btn btn-dark mb-3 " href="#carouselExampleIndicators2" role="button" data-slide="next">
                <!-- <i class="fa fa-arrow-right"></i> -->
                next
            </a>
        </div>
        <div class="col-12">
            <div id="carouselExampleIndicators2" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner"><!-- individual carousel -->

                    <div class="carousel-item active"><!-- group of 3 -->
                        <div class="row"><!-- group of 3 -->
                    
                           {% for data in recent[0:3] %}

                            <div class="col-md-4 mb-3"><!-- individual card-->
                                <div class="card text-center">
                                    <img class="card-img-top" alt="100%x280" src={{url_for('static', filename=data["image"] ) }}>
                                    <div class="card-body">
                                        <h4 class="card-title">{{data["title"]}}</h4>
                                        <p class="card-text">${{data["price"]}}</p>
                                         <button type="button" class="btn btn-primary">Contact</button>
                                    </div>
                                    <div class="card-footer">
                                       <small class="text-muted">Posted: {{data["date"]}}</small>
                                    </div>     
                                </div>
                            </div><!-- individual card end-->
                              
                            {% endfor %}
                                                             
                        </div>
                    </div><!-- group of 3 end-->
                    
                  {% for x in range(0, numberOfPostings, 3) %}
                    <div class="carousel-item">
                     <div class="row">
                        {% set i = x %}
                        {% set j = x + 3 %}
                        
                        {%for data in recent[i:j]%}                        
                        <div class="col-md-4 mb-3"><!-- individual card-->
                           <div class="card text-center">
                              <a  href="/posting/{{data['postid']}}" target="_blank">
                               <img class="card-img-top" alt="100%x280" src={{url_for('static', filename=data["image"] ) }}>
                               </a>
                               <div class="card-body">
                                   <h4 class="card-title">{{data["title"]}}</h4>
                                   <p class="card-text">${{data["price"]}}</p>
                                    <button type="button" class="btn btn-primary">Contact</button>
                               </div>
                               <div class="card-footer">
                                  <small class="text-muted">Posted: {{data["date"]}}</small>
                               </div>
                           </div>
                        </div><!-- individual card end-->
                        {%endfor%}  

                     </div>
                 </div>
                 {% endfor %}

                </div><!-- individual carousel end-->
            </div>
        </div>
    </div>
</div><!-- carousel end -->

<div class="col-xs-12" style="height:100px;"></div>


<div class="container">
   <div class="row">
       <div class="col-6">
           <h3 class="mb-3">Books</h3>
       </div>
       <div class="col-6 text-right">
           <a class="btn btn-dark mb-3 mr-1" href="#carouselExampleIndicators3" role="button" data-slide="prev">
               prev<!-- <i class="fa fa-arrow-left"></i> -->
           </a>
           <a class="btn btn-dark mb-3 " href="#carouselExampleIndicators3" role="button" data-slide="next">
               <!-- <i class="fa fa-arrow-right"></i> -->
               next
           </a>
       </div>
       <div class="col-12">
           <div id="carouselExampleIndicators3" class="carousel slide" data-ride="carousel">
               <div class="carousel-inner"><!-- individual carousel -->

                   <div class="carousel-item active"><!-- group of 3 -->
                       <div class="row"><!-- group of 3 -->
                   
                          {% for data in bookData[0:3] %}

                           <div class="col-md-4 mb-3"><!-- individual card-->
                               <div class="card text-center">
                                   <img class="card-img-top" alt="100%x280" src={{url_for('static', filename=data["image"] ) }}>
                                   <div class="card-body">
                                       <h4 class="card-title">{{data["title"]}}</h4>
                                       <p class="card-text">${{data["price"]}}</p>
                                        <button type="button" class="btn btn-primary">Contact</button>
                                   </div>
                                   <div class="card-footer">
                                      <small class="text-muted">Posted: {{data["date"]}}</small>
                                   </div>     
                               </div>
                           </div><!-- individual card end-->
                             
                           {% endfor %}
                                                            
                       </div>
                   </div><!-- group of 3 end-->
                   
                 {% for x in range(0, bookCount, 3) %}
                   <div class="carousel-item">
                    <div class="row">
                       {% set i = x %}
                       {% set j = x + 3 %}
                       
                       {%for data in bookData[i:j]%}                        
                       <div class="col-md-4 mb-3"><!-- individual card-->
                          <div class="card text-center">
                             <a  href="/posting/{{data['postid']}}" target="_blank">
                              <img class="card-img-top" alt="100%x280" src={{url_for('static', filename=data["image"] ) }}>
                              </a>
                              <div class="card-body">
                                  <h4 class="card-title">{{data["title"]}}</h4>
                                  <p class="card-text">${{data["price"]}}</p>
                                   <button type="button" class="btn btn-primary">Contact</button>
                              </div>
                              <div class="card-footer">
                                 <small class="text-muted">Posted: {{data["date"]}}</small>
                              </div>
                          </div>
                       </div><!-- individual card end-->
                       {%endfor%}  

                    </div>
                </div>
                {% endfor %}

               </div><!-- individual carousel end-->
           </div>
       </div>
   </div>
</div><!-- carousel end -->


<div class="col-xs-12" style="height:50px;"></div>


{% if fav %}
<div class="container">
   <div class="row">
       <div class="col-6">
           <h3 class="mb-3">Favorite Products</h3>
       </div>
       <div class="col-6 text-right">
           <a class="btn btn-dark mb-3 mr-1" href="#carouselExampleIndicators2" role="button" data-slide="prev">
               prev
           </a>
           <a class="btn btn-dark mb-3 " href="#carouselExampleIndicators2" role="button" data-slide="next">               
               next
           </a>
       </div>
       <div class="col-12">
           <div id="carouselExampleIndicators2" class="carousel slide" data-ride="carousel">
               <div class="carousel-inner"><!-- individual carousel -->

                   <div class="carousel-item active"><!-- group of 3 -->
                       <div class="row"><!-- group of 3 -->
                          
                          {% for data in fav[0:3] %}

                           <div class="col-md-4 mb-3"><!-- individual card-->
                               <div class="card text-center">
                                   <img class="card-img-top" alt="100%x280" src={{url_for('static', filename=data["image"] ) }}>
                                   <div class="card-body">
                                       <h4 class="card-title">{{data["title"]}}</h4>
                                       <p class="card-text">${{data["price"]}}</p>
                                        <button type="button" class="btn btn-primary">Contact</button>
                                   </div>
                                   <div class="card-footer">
                                      <small class="text-muted">Posted: {{data["date"]}}</small>
                                   </div>     
                               </div>
                           </div><!-- individual card end-->                             

                           {% endfor %}
                                                            
                        </div>
                   </div><!-- group of 3 end-->
                   
                 {% for x in range(0, numberOfPostings, 3) %}
                   <div class="carousel-item">
                    <div class="row">
                       {% set i = x %}
                       {% set j = x + 3 %}
                       
                       {%for data in fav[i:j]%}                        
                       <div class="col-md-4 mb-3"><!-- individual card-->
                          <div class="card text-center">
                             <a  href="/posting/{{data['postid']}}" target="_blank">
                              <img class="card-img-top" alt="100%x280" src={{url_for('static', filename=data["image"] ) }}>
                              </a>
                              <div class="card-body">
                                  <h4 class="card-title">{{data["title"]}}</h4>
                                  <p class="card-text">${{data["price"]}}</p>
                                   <button type="button" class="btn btn-primary">Contact</button>
                              </div>
                              <div class="card-footer">
                                 <small class="text-muted">Posted: {{data["date"]}}</small>
                              </div>
                          </div>
                       </div><!-- individual card end-->
                       {%endfor%}  

                    </div>
                </div>
                {% endfor %}

               </div><!-- individual carousel end-->
           </div>
       </div>
   </div>
</div>
{% endif %}



</section>

{% endblock %}
